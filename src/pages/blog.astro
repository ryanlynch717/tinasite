---
import BaseLayout from '../layouts/BaseLayout.astro';
import ContactCTA from '../components/ContactCTA.astro';
import Hero from '../components/Hero.astro';
import Grid from '../components/Grid.astro';

const posts = (await Astro.glob('../content/posts/*.{md,mdx}'))
	.sort((a, b) => b.data?.publishDate?.valueOf() - a.data?.publishDate?.valueOf())

---

<BaseLayout
	title="Posts"
	description="Learn about Jeanine White's most recent projects"
>
	<div class="stack gap-20">
		<main class="wrapper stack gap-8">
			<Hero
				title="Posts"
				tagline="Most recent updates"
				align="start"
			/>
			<Grid variant="offset">
				{
					posts.map((post) => (
						<li class="blog-card">
							<a href={post.file.split('/').pop().replace(/\.md(x)?/,'')}>{post.frontmatter.title}</a>
						</li>
					))
				}
			</Grid>
		</main>
		<ContactCTA />
	</div>
</BaseLayout>

<style>
.blog-card {
	background: rgb(192, 187, 187);
	border-radius: 0.5rem;
	box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.1);
	padding: 1rem;
	min-height: 120px;
	color: black;
}
</style>